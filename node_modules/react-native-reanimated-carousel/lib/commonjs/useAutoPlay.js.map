{"version":3,"sources":["useAutoPlay.ts"],"names":["useAutoPlay","opts","autoPlay","autoPlayReverse","autoPlayInterval","carouselController","lockController","timer","React","useRef","useEffect","current","clearInterval","isLock","setInterval","prev","next"],"mappings":";;;;;;;AAAA;;;;;;AAIO,SAASA,WAAT,CAAqBC,IAArB,EAMJ;AACC,QAAM;AACFC,IAAAA,QAAQ,GAAG,KADT;AAEFC,IAAAA,eAAe,GAAG,KAFhB;AAGFC,IAAAA,gBAAgB,GAAG,IAHjB;AAIFC,IAAAA,kBAJE;AAKFC,IAAAA;AALE,MAMFL,IANJ;AAOA,QAAMM,KAAK,GAAGC,KAAK,CAACC,MAAN,EAAd;AACAD,EAAAA,KAAK,CAACE,SAAN,CAAgB,MAAM;AAClB,QAAIH,KAAK,CAACI,OAAV,EAAmB;AACfC,MAAAA,aAAa,CAACL,KAAK,CAACI,OAAP,CAAb;AACH;;AACD,QAAIT,QAAQ,IAAI,CAACI,cAAc,CAACO,MAAf,EAAjB,EAA0C;AACtCN,MAAAA,KAAK,CAACI,OAAN,GAAgBG,WAAW,CAAC,MAAM;AAC9BX,QAAAA,eAAe,GACTE,kBAAkB,CAACU,IAAnB,EADS,GAETV,kBAAkB,CAACW,IAAnB,EAFN;AAGH,OAJ0B,EAIxBZ,gBAJwB,CAA3B;AAKH;;AACD,WAAO,MAAM;AACT,OAAC,CAACG,KAAK,CAACI,OAAR,IAAmBC,aAAa,CAACL,KAAK,CAACI,OAAP,CAAhC;AACH,KAFD;AAGH,GAdD,EAcG,CACCT,QADD,EAECC,eAFD,EAGCC,gBAHD,EAICC,kBAJD,EAKCC,cALD,CAdH;AAqBH","sourcesContent":["import * as React from 'react';\nimport type { ICarouselController } from './useCarouselController';\nimport type { ILockController } from './useLock';\n\nexport function useAutoPlay(opts: {\n    autoPlay?: boolean;\n    autoPlayInterval?: number;\n    autoPlayReverse?: boolean;\n    carouselController: ICarouselController;\n    lockController: ILockController;\n}) {\n    const {\n        autoPlay = false,\n        autoPlayReverse = false,\n        autoPlayInterval = 1000,\n        carouselController,\n        lockController,\n    } = opts;\n    const timer = React.useRef<NodeJS.Timer>();\n    React.useEffect(() => {\n        if (timer.current) {\n            clearInterval(timer.current);\n        }\n        if (autoPlay && !lockController.isLock()) {\n            timer.current = setInterval(() => {\n                autoPlayReverse\n                    ? carouselController.prev()\n                    : carouselController.next();\n            }, autoPlayInterval);\n        }\n        return () => {\n            !!timer.current && clearInterval(timer.current);\n        };\n    }, [\n        autoPlay,\n        autoPlayReverse,\n        autoPlayInterval,\n        carouselController,\n        lockController,\n    ]);\n}\n"]}