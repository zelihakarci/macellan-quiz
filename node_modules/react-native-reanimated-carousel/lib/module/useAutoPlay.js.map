{"version":3,"sources":["useAutoPlay.ts"],"names":["React","useAutoPlay","opts","autoPlay","autoPlayReverse","autoPlayInterval","carouselController","lockController","timer","useRef","useEffect","current","clearInterval","isLock","setInterval","prev","next"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAIA,OAAO,SAASC,WAAT,CAAqBC,IAArB,EAMJ;AACC,QAAM;AACFC,IAAAA,QAAQ,GAAG,KADT;AAEFC,IAAAA,eAAe,GAAG,KAFhB;AAGFC,IAAAA,gBAAgB,GAAG,IAHjB;AAIFC,IAAAA,kBAJE;AAKFC,IAAAA;AALE,MAMFL,IANJ;AAOA,QAAMM,KAAK,GAAGR,KAAK,CAACS,MAAN,EAAd;AACAT,EAAAA,KAAK,CAACU,SAAN,CAAgB,MAAM;AAClB,QAAIF,KAAK,CAACG,OAAV,EAAmB;AACfC,MAAAA,aAAa,CAACJ,KAAK,CAACG,OAAP,CAAb;AACH;;AACD,QAAIR,QAAQ,IAAI,CAACI,cAAc,CAACM,MAAf,EAAjB,EAA0C;AACtCL,MAAAA,KAAK,CAACG,OAAN,GAAgBG,WAAW,CAAC,MAAM;AAC9BV,QAAAA,eAAe,GACTE,kBAAkB,CAACS,IAAnB,EADS,GAETT,kBAAkB,CAACU,IAAnB,EAFN;AAGH,OAJ0B,EAIxBX,gBAJwB,CAA3B;AAKH;;AACD,WAAO,MAAM;AACT,OAAC,CAACG,KAAK,CAACG,OAAR,IAAmBC,aAAa,CAACJ,KAAK,CAACG,OAAP,CAAhC;AACH,KAFD;AAGH,GAdD,EAcG,CACCR,QADD,EAECC,eAFD,EAGCC,gBAHD,EAICC,kBAJD,EAKCC,cALD,CAdH;AAqBH","sourcesContent":["import * as React from 'react';\nimport type { ICarouselController } from './useCarouselController';\nimport type { ILockController } from './useLock';\n\nexport function useAutoPlay(opts: {\n    autoPlay?: boolean;\n    autoPlayInterval?: number;\n    autoPlayReverse?: boolean;\n    carouselController: ICarouselController;\n    lockController: ILockController;\n}) {\n    const {\n        autoPlay = false,\n        autoPlayReverse = false,\n        autoPlayInterval = 1000,\n        carouselController,\n        lockController,\n    } = opts;\n    const timer = React.useRef<NodeJS.Timer>();\n    React.useEffect(() => {\n        if (timer.current) {\n            clearInterval(timer.current);\n        }\n        if (autoPlay && !lockController.isLock()) {\n            timer.current = setInterval(() => {\n                autoPlayReverse\n                    ? carouselController.prev()\n                    : carouselController.next();\n            }, autoPlayInterval);\n        }\n        return () => {\n            !!timer.current && clearInterval(timer.current);\n        };\n    }, [\n        autoPlay,\n        autoPlayReverse,\n        autoPlayInterval,\n        carouselController,\n        lockController,\n    ]);\n}\n"]}